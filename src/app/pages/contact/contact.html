<!-- contact.html -->
<section
  class="relative min-h-screen flex items-center justify-center bg-transparent overflow-hidden px-6 pb-10 md:pb-0"
>
  <div class="container mx-auto px-6 mt-25 md:mt-15">
    <header class="mb-6 flex flex-col items-center md:items-start">
      <h2
        class="text-white text-4xl md:text-5xl lg:text-6xl font-black uppercase italic leading-none"
      >
        <span class="text-red-700/80">Contato</span>
      </h2>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-stretch">
      <!-- Formulário -->
      <div
        class="bg-white/5 backdrop-blur-md border border-white/5 p-6 md:p-10 rounded-sm group hover:border-red-700/30 transition-all duration-500"
      >
        <!-- Mensagem de Sucesso -->
        @if (messageSent()) {
          <div class="mb-6 p-4 bg-white/5 border border-white/20 rounded-sm">
            <p class="text-white text-sm font-mono flex items-center gap-3">
              <span class="opacity-50">✓</span>
              <span class="tracking-tight"
                >Mensagem enviada com sucesso! Responderei em breve.</span
              >
            </p>
          </div>
        }

        <!-- Mensagem de Erro -->
        @if (errorMessage()) {
          <div class="mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-sm">
            <p class="text-red-400 text-sm font-mono">✗ {{ errorMessage() }}</p>
          </div>
        }

        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4">
          <div>
            <label
              class="block text-gray-300 font-mono text-[10px] uppercase tracking-[0.2em] mb-1 font-bold"
            >
              Nome
            </label>
            <input
              type="text"
              formControlName="name"
              class="w-full bg-white/5 border p-3 text-white font-mono text-sm focus:outline-none transition-colors disabled:opacity-50"
              [class.border-red-700]="isFieldInvalid('name')"
              [class.border-white/10]="!isFieldInvalid('name')"
              placeholder="Seu nome completo"
            />
            @if (isFieldInvalid('name')) {
              <p class="text-red-500 text-[10px] font-mono mt-1 uppercase italic">
                Mínimo de 2 caracteres.
              </p>
            }
          </div>

          <div>
            <label
              class="block text-gray-300 font-mono text-[10px] uppercase tracking-[0.2em] mb-1 font-bold"
            >
              Email
            </label>
            <input
              type="email"
              formControlName="email"
              class="w-full bg-white/5 border p-3 text-white font-mono text-sm focus:outline-none transition-colors disabled:opacity-50"
              [class.border-red-700]="isFieldInvalid('email')"
              [class.border-white/10]="!isFieldInvalid('email')"
              placeholder="seu@email.com"
            />
            @if (isFieldInvalid('email')) {
              <p class="text-red-500 text-[10px] font-mono mt-1 uppercase italic">
                Insira um email válido.
              </p>
            }
          </div>

          <div>
            <label
              class="block text-gray-300 font-mono text-[10px] uppercase tracking-[0.2em] mb-1 font-bold"
            >
              Mensagem
            </label>
            <textarea
              formControlName="message"
              rows="4"
              class="w-full bg-white/5 border p-3 text-white font-mono text-sm focus:outline-none transition-colors resize-none disabled:opacity-50"
              [class.border-red-700]="isFieldInvalid('message')"
              [class.border-white/10]="!isFieldInvalid('message')"
              placeholder="Como posso ajudá-lo?"
            ></textarea>
            @if (isFieldInvalid('message')) {
              <p class="text-red-500 text-[10px] font-mono mt-1 uppercase italic">
                Mínimo de 10 caracteres.
              </p>
            }
          </div>

          <button
            type="submit"
            [disabled]="isLoading() || contactForm.invalid"
            class="w-full bg-red-700/80 hover:bg-red-700 text-white font-bold uppercase italic py-4 transition-all tracking-widest text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
          >
            @if (isLoading()) {
              <svg class="animate-spin h-5 w-5" viewBox="0 0 24 24">...</svg>
              <span>Enviando...</span>
            } @else {
              <span>Enviar Mensagem</span>
            }
          </button>
        </form>
      </div>

      <!-- Info de Contato -->
      <div class="flex flex-col justify-between py-2">
        <div class="border-l-2 border-red-700/30 pl-8">
          <h3 class="text-white text-2xl md:text-3xl font-bold uppercase italic mb-4">
            Conecte-se
          </h3>
          <p class="text-gray-400 text-base md:text-lg leading-relaxed mb-8 max-w-2xl">
            Estou focado em contribuir para projetos desafiadores no setor tecnológico, aplicando
            boas práticas de desenvolvimento front-end.
          </p>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-6">
            <a
              [href]="'mailto:' + contactInfo.email"
              class="group flex items-center gap-4 text-gray-300 hover:text-white transition-colors"
            >
              <div
                class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/10 rounded-sm"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  class="text-red-700"
                >
                  <rect width="20" height="16" x="2" y="4" rx="2" />
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
                </svg>
              </div>
              <span class="text-sm md:text-base font-mono tracking-tighter">{{
                contactInfo.email
              }}</span>
            </a>

            <a
              href="https://www.linkedin.com/in/felipyasha"
              target="_blank"
              class="group flex items-center gap-4 text-gray-300 hover:text-white transition-colors"
            >
              <div
                class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/10 group-hover:border-red-700/50 transition-all rounded-sm"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-red-700"
                >
                  <path
                    d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
                  />
                  <rect width="4" height="12" x="2" y="9" />
                  <circle cx="4" cy="4" r="2" />
                </svg>
              </div>
              <span class="text-sm md:text-base font-mono tracking-tighter"
                >linkedin.com/in/felipyasha</span
              >
            </a>

            <a
              [href]="contactInfo.github"
              target="_blank"
              class="group flex items-center gap-4 text-gray-300 hover:text-white transition-colors"
            >
              <div
                class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/10 rounded-sm"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  class="text-red-700"
                >
                  <path
                    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                  />
                  <path d="M9 18c-4.51 2-5-2-7-2" />
                </svg>
              </div>
              <span class="text-sm md:text-base font-mono tracking-tighter"
                >github.com/Felipyasha
              </span>
            </a>
          </div>
        </div>

        <div class="mt-8 pt-6 border-t border-white/5 flex items-center gap-3 text-gray-500">
          <span class="text-xs font-mono uppercase tracking-[0.2em]"
            >{{ contactInfo.location }}
          </span>
        </div>
      </div>
    </div>
  </div>
</section>
